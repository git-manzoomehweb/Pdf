// @ts-nocheck
function cleanInvisibleCharsFromTags(t){if("string"!=typeof t)return t;const e=/[\u200E\u200F\u202A-\u202E]/g;return t.replace(/<[^>]+>/g,(t=>t.replace(e,"")))}function sanitizeText(t){if("string"!=typeof t)return t;return t.replace(/[\u200E\u200F\u202A-\u202E]/g,"")}function fixRTLTextFromJSON(t){if("string"!=typeof t)return t;const e=[":","-","(",")","/",".",",","|"];if(/[\u0600-\u06FF]/.test(t)){const n="‫",a="‬";e.some((e=>t.includes(e)))&&(t=n+t+a)}return t}function fixRTLTextCompletely(t){if("string"!=typeof t)return t;return t.split(/(<[^>]+>)/g).map((t=>t.startsWith("<")&&t.endsWith(">")?t.replace(/[\u200E\u200F\u202A-\u202E]/g,""):fixRTLTextFromJSON(t))).join("")}function detectDirection(t){return/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF]/.test(t)?"rtl":"ltr"}function extractFilenameFromUrl(t){if(!t)return"";try{return new URL(t).pathname.split("/").pop()}catch(e){return t.split("/").pop()}}function escapeXML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}async function getLocalizedText(t,e,n){return"rtl"===t?e:n}async function checkSection(t){if(console.log(t),null==t||"string"==typeof t&&""===t.trim()||Array.isArray(t)&&0===t.length)return"hidden";if("string"==typeof t){const e=document.createElement("div");if(e.innerHTML=t,""===e.textContent.trim())return"hidden"}return""}async function waitForImagesToLoad(t){const e=t.querySelectorAll("img"),n=[];e.forEach((t=>{t.complete||n.push(new Promise((e=>{t.onload=e,t.onerror=e})))})),await Promise.all(n)}function formatDateToReadable(t){const e=new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"2-digit"}),[n,a,i,l]=e.replace(",","").split(" ");return`${i} ${a} ${l}<span class="mx-1"> / </span>${n}`}async function RenderInfoCardLounge(t,e){let n=t;const a={1:{error:"داده‌های هتل نامعتبر است.",dir:"rtl",textAlign:"text-right"},2:{error:"Invalid hotel data provided.",dir:"ltr",textAlign:"text-left"},3:{error:"بيانات الفندق غير صالحة.",dir:"rtl",textAlign:"text-right"}},i=a[e]||a[1];if(!n||!n.cipinfo)return console.error("Invalid hotel data:",n),`<div class="text-red-500 ${i.textAlign}" dir="${i.dir}">${i.error}</div>`;const l=n.cipinfo;return`<h1 class="text-lg font-danademibold text-center" dir="${i.dir}">${l.loungename}</h1>\n        <div class="flex text-sm" dir="${i.dir}">\n            <span class="text-sm font-danademibold ${i.textAlign}">${l.airport}</span>\n            <span class="mx-2">/</span>\n            <span class="text-sm font-danademibold ${i.textAlign}">${l.cities}</span>\n        </div>`}async function renderRulesLounge(t,e){const n=t?.pdf_description,a={1:{noItems:"هیچ آیتمی در pdf_description پیدا نشد",invalidText:"آیتم {index} متن معتبری ندارد",dir:"rtl",textAlign:"text-right"},2:{noItems:"No items found in pdf_description",invalidText:"Item {index} does not have valid text",dir:"ltr",textAlign:"text-left"},3:{noItems:"لم يتم العثور على أي عناصر في pdf_description",invalidText:"العنصر {index} لا يحتوي على نص صالح",dir:"rtl",textAlign:"text-right"}},i=a[e]||a[1];if(!n||!Array.isArray(n))return console.warn(i.noItems),null;let l=detectDirection(n?.[0]?.note.text)||i.dir,r="";return n.forEach(((t,e)=>{const n=t?.note?.text?.trim();n?r+=`<li>${n}</li>`:console.warn(i.invalidText.replace("{index}",e),t)})),`<ul dir="${l}" class="${i.textAlign}">${fixRTLTextCompletely(r)}</ul>`}async function renderLoungeInfo(t,e){let n=t?.product_info,a="";const i={1:{title:"اطلاعات lounge",airport:"نام فرودگاه",city:"شهر",airline:"ایرلاین",routecode:"کد مسیر",date:"تاریخ",time:"ساعت",travelType:"نوع سفر",flightType:"نوع پرواز",domestic:"داخلی",international:"خارجی",arrival:"ورودی",departure:"خروجی",dir:"rtl",textAlign:"text-right"},2:{title:"Lounge Information",airport:"Airport Name",city:"City",airline:"Airline",routecode:"Route Code",date:"Date",time:"Time",travelType:"Travel Type",flightType:"Flight Type",domestic:"Domestic",international:"International",arrival:"Arrival",departure:"Departure",dir:"ltr",textAlign:"text-left"},3:{title:"معلومات الصالة",airport:"اسم المطار",city:"المدينة",airline:"الخطوط الجوية",routecode:"رمز المسار",date:"التاريخ",time:"الوقت",travelType:"نوع السفر",flightType:"نوع الرحلة",domestic:"محلي",international:"دولي",arrival:"وصول",departure:"مغادرة",dir:"rtl",textAlign:"text-right"}},l=i[e]||i[1];return console.log(n),a+=`\n        <h2 class="font-bold text-lg my-2 font-danabold ${l.textAlign}" dir="${l.dir}">${l.title}</h2>\n        <div class="bg-[#F4FBF9] rounded-xl p-4 flex justify-between gap-4" dir="${l.dir}">\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${l.textAlign}">${l.airport}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${l.textAlign}">\n                    ${n.airportName}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${l.textAlign}">${l.city}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${l.textAlign}">\n                    ${n.cityname}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${l.textAlign}">${l.airline}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${l.textAlign}">\n                    ${n.airline}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${l.textAlign}">${l.routecode}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${l.textAlign}">\n                    ${n.routecode}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${l.textAlign}">${l.date}</span>\n                <div class="text-[#292929] text-sm font-danademibold dir-${l.dir} ${l.textAlign}">\n                    <span>${n.dateinfo.mstring}</span>\n                    ${1===e?`<span>(${n.dateinfo.sstring})</span>`:""}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${l.textAlign}">${l.time}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${l.textAlign}">\n                    ${n.time}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${l.textAlign}">${l.travelType}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${l.textAlign}">\n                    ${"1"===n.traveltype?l.domestic:l.international}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${l.textAlign}">${l.flightType}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${l.textAlign}">\n                    <span class="inline-block">${"1"===n.flighttype?l.arrival:l.departure}</span>\n                    <span class="mx-1">-</span>\n                    <span class="inline-block">${n.city_flight}</span>\n                </div>\n            </div>\n        </div>\n    `,a}async function renderLoungePassengerInfo(t,e){const n={1:{title:"اطلاعات مسافران",row:"ردیف",passengers:"مسافران",type:"نوع مسافر",gender:"جنسیت",country:"ملیت",male:"مرد",female:"زن",dir:"rtl",textAlign:"text-right"},2:{title:"Passenger Information",row:"Row",passengers:"Passengers",type:"Passenger Type",gender:"Gender",country:"Nationality",male:"Male",female:"Female",dir:"ltr",textAlign:"text-left"},3:{title:"معلومات المسافرين",row:"الصف",passengers:"المسافرون",type:"نوع المسافر",gender:"الجنس",country:"الجنسية",male:"ذكر",female:"أنثى",dir:"rtl",textAlign:"text-right"}},a=n[e]||n[1],i=(t?.passengerinfo||[]).map((t=>{const e=t.cip_passenger;return{name:`${e.fullname.firstname?.trim()||""} ${e.fullname.lastname?.trim()||""}`,type:e.type||"–",gender:e.gender||"–",birthdate:e.birthdate?.birthdate1||"–",country:e.countryofresidence?.countryname||"–"}}));console.log(i);const l=i.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.textAlign}">${t.name}</h2>`)).join(""),r=i.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.textAlign}">${t.type}</h2>`)).join(""),s=i.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.textAlign}">${t.country}</h2>`)).join(""),o=i.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.textAlign}">${"1"==t.gender?a.male:a.female}</h2>`)).join(""),d=i.map(((t,e)=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.textAlign}">${e+1}</h2>`)).join("");return`\n        <h2 class="font-bold text-lg my-2 font-danabold ${a.textAlign}" dir="${a.dir}">${a.title}</h2>\n        <div class="bg-[#F4FBF9] rounded-xl p-4 flex justify-between gap-4" dir="${a.dir}">\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.textAlign}">${a.row}</span>\n                ${d}\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.textAlign}">${a.passengers}</span>\n                ${l}\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.textAlign}">${a.type}</span>\n                ${r}\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.textAlign}">${a.gender}</span>\n                ${o}\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.textAlign}">${a.country}</span>\n                ${s}\n            </div>\n        </div>\n    `}async function renderServiceInfoLounge(t,e){const n=t?.serviceinfo||[],a={1:{title:"اطلاعات خدمات",serviceName:"نام خدمات",count:"تعداد",description:"توضیحات",dir:"rtl",textAlign:"text-right"},2:{title:"Service Information",serviceName:"Service Name",count:"Count",description:"Description",dir:"ltr",textAlign:"text-left"},3:{title:"معلومات الخدمات",serviceName:"اسم الخدمة",count:"العدد",description:"الوصف",dir:"rtl",textAlign:"text-right"}},i=a[e]||a[1],l=n.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${i.textAlign}">${t.service.servicename||"–"}</h2>`)).join(""),r=n.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${i.textAlign}">${t.service.des_service||"–"}</h2>`)).join(""),s=n.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${i.textAlign}">${t.service.count||"–"}</h2>`)).join("");return`\n        <h2 class="font-bold text-lg my-2 font-danabold ${i.textAlign}" dir="${i.dir}">${i.title}</h2>\n        <div class="bg-[#F4FBF9] rounded-xl p-4 mt-3 flex justify-between gap-x-4 gap-y-2" dir="${i.dir}">\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.serviceName}</span>\n                ${l}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.count}</span>\n                ${s}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.description}</span>\n                ${r}\n            </div>\n        </div>\n    `}async function renderTransferInfoLounge(t,e){const n=t?.transferinfo||[],a={1:{title:"اطلاعات ترنسفر",carName:"نام خودرو",address:"آدرس",time:"زمان",phone:"شماره تماس",description:"توضیحات",dir:"rtl",textAlign:"text-right"},2:{title:"Transfer Information",carName:"Car Name",address:"Address",time:"Time",phone:"Phone Number",description:"Description",dir:"ltr",textAlign:"text-left"},3:{title:"معلومات النقل",carName:"اسم السيارة",address:"العنوان",time:"الوقت",phone:"رقم الهاتف",description:"الوصف",dir:"rtl",textAlign:"text-right"}},i=a[e]||a[1],l=n.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${t.textAlign}">${t.transfer?.car_name||"–"}</h2>`)).join(""),r=n.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${t.textAlign}">${t.transfer?.address||"–"}</h2>`)).join(""),s=n.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${t.textAlign}">${t.transfer?.time||"–"}</h2>`)).join(""),o=n.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${t.textAlign}">${t.transfer?.phone||"–"}</h2>`)).join(""),d=n.map((t=>`<h2 class="text-[#292929] text-sm font-danademibold ${t.textAlign}">${t.transfer?.des_transfer||"–"}</h2>`)).join("");return`\n        <h2 class="font-bold text-lg my-2 font-danabold ${i.textAlign}" dir="${i.dir}">${i.title}</h2>\n        <div class="bg-[#F4FBF9] rounded-xl p-4 mt-3 flex justify-between gap-x-4 gap-y-2" dir="${i.dir}">\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.carName}</span>\n                ${l}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.address}</span>\n                ${r}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.time}</span>\n                ${s}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.phone}</span>\n                ${o}\n            </div>\n            <div class="flex flex-col gap-2 col-span-full">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.description}</span>\n                ${d}\n            </div>\n        </div>\n    `}async function renderEscortInfoLounge(t,e){const n=t?.escortinfo||[],a={1:{title:"اطلاعات اسکورت",escortName:"نام اسکورت",gender:"جنسیت",male:"مرد",female:"زن",dir:"rtl",textAlign:"text-right"},2:{title:"Escort Information",escortName:"Escort Name",gender:"Gender",male:"Male",female:"Female",dir:"ltr",textAlign:"text-left"},3:{title:"معلومات المرافق",escortName:"اسم المرافق",gender:"الجنس",male:"ذكر",female:"أنثى",dir:"rtl",textAlign:"text-right"}},i=a[e]||a[1],l=n.map((t=>{const{firsname:e,lastname:n}=t.escort||{};return`<h2 class="text-[#292929] text-sm font-danademibold ${i.textAlign}">${e||""} ${n||""}</h2>`})).join(""),r=n.map((t=>{const e="1"===t.escort?.gender?i.male:i.female;return`<h2 class="text-[#292929] text-sm font-danademibold ${i.textAlign}">${e}</h2>`})).join("");return`\n        <h2 class="font-bold text-lg my-2 font-danabold ${i.textAlign}" dir="${i.dir}">${i.title}</h2>\n        <div class="bg-[#F4FBF9] rounded-xl p-4 mt-3 flex justify-between gap-x-4 gap-y-2" dir="${i.dir}">\n            <div class="flex flex-col gap-2 w-1/2 justify-center items-center">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.escortName}</span>\n                ${l}\n            </div>\n            <div class="flex flex-col gap-2 w-1/2 justify-center items-center">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${i.textAlign}">${i.gender}</span>\n                ${r}\n            </div>\n        </div>\n    `}