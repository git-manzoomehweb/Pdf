// @ts-nocheck
let loadingStartTime=Date.now(),isContentLoaded=!1,isMinTimeElapsed=!1,apiDataLoaded=!1;const MIN_LOADING_TIME=2e3;let mainlid;function setlid(e){mainlid=e}function initializePageLanguage(e){const t={1:{lang:"fa",dir:"rtl",mainTitle:"لانژ",contractNumber:"شماره قرارداد",issueDate:"تاریخ صدور",contractTime:"ساعت قرارداد",accessDenied:"شما اجازه دسترسی به این صفحه را ندارید",loadingText:"در حال بارگذاری",pdfLoadingText:"در حال تولید PDF",textAlign:"text-right",justifyContent:"!justify-end",centerText:"text-center"},2:{lang:"en",dir:"ltr",mainTitle:"Lounge",contractNumber:"Contract Number",issueDate:"Issue Date",contractTime:"Contract Time",accessDenied:"You do not have permission to access this page",loadingText:"Loading",pdfLoadingText:"Generating PDF",textAlign:"text-left",justifyContent:"!justify-start",centerText:"text-center"},3:{lang:"ar",dir:"rtl",mainTitle:"الصالة",contractNumber:"رقم العقد",issueDate:"تاريخ الإصدار",contractTime:"وقت العقد",accessDenied:"ليس لديك إذن للوصول إلى هذه الصفحة",loadingText:"جاري التحميل",pdfLoadingText:"جاري إنشاء PDF",textAlign:"text-right",justifyContent:"!justify-end",centerText:"text-center"}},n=t[e]||t[1];window.currentTranslations=n;document.getElementById("html-root"),document.body;const a=document.getElementById("main-content-wrapper"),r=document.getElementById("header-section"),i=document.getElementById("access-denied-message"),s=document.getElementById("pdf-loading-text"),l=document.getElementById("main-loading-text");a&&(a.setAttribute("dir",n.dir),a.className=a.className.replace(/dir-(rtl|ltr)/g,"")+` dir-${n.dir}`),r&&(r.setAttribute("dir",n.dir),r.className=r.className.replace(/(!justify-start|!justify-end)/g,"")+` ${n.justifyContent}`),l&&(l.textContent=n.loadingText),setTimeout((()=>{const e=document.getElementById("main-title");e&&(e.textContent=n.mainTitle,e.className=e.className.replace(/(text-left|text-right)/g,"")+` ${n.textAlign}`);const t=document.getElementById("contract-number-label");t&&(t.innerHTML=`${n.contractNumber}<span>:</span>`,t.className=t.className.replace(/(text-left|text-right)/g,"")+` ${n.textAlign}`);const a=document.getElementById("issue-date-label");a&&(a.innerHTML=`${n.issueDate}<span>:</span>`,a.className=a.className.replace(/(text-left|text-right)/g,"")+` ${n.textAlign}`);const r=document.getElementById("contract-time-label");r&&(r.innerHTML=`${n.contractTime}<span>:</span>`,r.className=r.className.replace(/(text-left|text-right)/g,"")+` ${n.textAlign}`),i&&(i.textContent=n.accessDenied,i.setAttribute("dir",n.dir),i.className=i.className.replace(/dir-(rtl|ltr)/g,"")+` dir-${n.dir}`);const l=document.getElementById("loading-text");l&&(l.textContent=n.pdfLoadingText),s&&(s.setAttribute("dir",n.dir),s.className=s.className.replace(/dir-(rtl|ltr)/g,"")+` dir-${n.dir}`)}),100)}function initializeLoadingSystem(){setTimeout((()=>{isMinTimeElapsed=!0,checkLoadingComplete()}),2e3),checkImagesLoaded(),checkFontsLoaded(),checkContentLoaded()}function checkImagesLoaded(){const e=document.querySelectorAll("img");let t=0;const n=e.length;return 0===n?Promise.resolve():new Promise((a=>{e.forEach((e=>{e.complete?t++:e.onload=e.onerror=()=>{t++,t===n&&a()}})),t===n&&a()}))}function checkFontsLoaded(){return document.fonts&&document.fonts.ready?document.fonts.ready:new Promise((e=>setTimeout(e,500)))}function checkContentLoaded(){const e=setInterval((()=>{const t=document.querySelector('[datamembername="db.lounge_pdf"]'),n=document.querySelector("h1");t&&n&&(apiDataLoaded=!0,clearInterval(e),checkAllResourcesLoaded())}),100);setTimeout((()=>{apiDataLoaded||(apiDataLoaded=!0,clearInterval(e),checkAllResourcesLoaded())}),1e4)}async function checkAllResourcesLoaded(){try{await Promise.all([checkImagesLoaded(),checkFontsLoaded()]),initializePageLanguage(mainlid),initializeLoadingSystem(),isContentLoaded=!0,checkLoadingComplete()}catch(e){console.warn("خطا در لود resources:",e),isContentLoaded=!0,checkLoadingComplete()}}function checkLoadingComplete(){isMinTimeElapsed&&isContentLoaded&&apiDataLoaded&&hideLoadingScreen()}function hideLoadingScreen(){const e=document.getElementById("main-loading-screen"),t=document.getElementById("main-content-wrapper");e&&t&&(e.classList.add("hidden"),setTimeout((()=>{t.classList.add("loaded"),e.style.display="none"}),500))}async function RenderInfoCardLounge(e,t){let n=e;const a={1:{error:"داده‌های هتل نامعتبر است.",dir:"rtl",textAlign:"text-right"},2:{error:"Invalid hotel data provided.",dir:"ltr",textAlign:"text-left"},3:{error:"بيانات الفندق غير صالحة.",dir:"rtl",textAlign:"text-right"}},r=a[t]||a[1];if(!n||!n.cipinfo)return console.error("Invalid hotel data:",n),`<div class="text-red-500 ${r.textAlign}" dir="${r.dir}">${r.error}</div>`;const i=n.cipinfo;return`<h1 class="text-lg font-danademibold text-center" dir="${r.dir}">${i.loungename}</h1>\n        <div class="flex text-sm" dir="${r.dir}">\n            <span class="text-sm font-danademibold ${r.textAlign}">${i.airport}</span>\n            <span class="mx-2">/</span>\n            <span class="text-sm font-danademibold ${r.textAlign}">${i.cities}</span>\n        </div>`}async function renderRulesLounge(e,t){const n=e?.pdf_description,a={1:{noItems:"هیچ آیتمی در pdf_description پیدا نشد",invalidText:"آیتم {index} متن معتبری ندارد",dir:"rtl",textAlign:"text-right"},2:{noItems:"No items found in pdf_description",invalidText:"Item {index} does not have valid text",dir:"ltr",textAlign:"text-left"},3:{noItems:"لم يتم العثور على أي عناصر في pdf_description",invalidText:"العنصر {index} لا يحتوي على نص صالح",dir:"rtl",textAlign:"text-right"}},r=a[t]||a[1];if(!n||!Array.isArray(n))return console.warn(r.noItems),null;let i=detectDirection(n?.[0]?.note.text)||r.dir,s="";return n.forEach(((e,t)=>{const n=e?.note?.text?.trim();n?s+=`<li>${n}</li>`:console.warn(r.invalidText.replace("{index}",t),e)})),`<ul dir="${i}" class="${r.textAlign}">${fixRTLTextCompletely(s)}</ul>`}async function renderLoungeInfo(e,t){let n=e?.product_info,a="";const r={1:{title:"اطلاعات lounge",airport:"نام فرودگاه <br/> Airport Name",city:"شهر <br/> City",airline:"ایرلاین <br/> Airline",routecode:"کد مسیر <br/> Route Code",date:"تاریخ <br/> Date",time:"ساعت <br/> Time",travelType:"نوع سفر <br/> Travel Type",flightType:"نوع پرواز <br/> Flight Type",domestic:"داخلی ",international:"خارجی ",arrival:"ورودی ",departure:"خروجی ",dir:"rtl",textAlign:"text-right",centerText:"text-center"},2:{title:"Lounge Information",airport:"Airport Name",city:"City",airline:"Airline",routecode:"Route Code",date:"Date",time:"Time",travelType:"Travel Type",flightType:"Flight Type",domestic:"Domestic",international:"International",arrival:"Arrival",departure:"Departure",dir:"ltr",textAlign:"text-left",centerText:"text-center"},3:{title:"معلومات الصالة",airport:"اسم المطار",city:"المدينة",airline:"الخطوط الجوية",routecode:"رمز المسار",date:"التاريخ",time:"الوقت",travelType:"نوع السفر",flightType:"نوع الرحلة",domestic:"محلي",international:"دولي",arrival:"وصول",departure:"مغادرة",dir:"rtl",textAlign:"text-right",centerText:"text-center"}},i=r[t]||r[1];return a+=`\n        <h2 class="font-bold text-lg my-2 font-danabold ${i.textAlign}" dir="${i.dir}">${i.title}</h2>\n        <div class="bg-[#F4F4F4] rounded-xl p-4 flex justify-between gap-4 max-sm:flex-col max-sm:flex-wrap max-sm:justify-center " dir="${i.dir}">\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap  ${i.centerText}">${i.airport}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${i.centerText}">\n                    ${n.airportName}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap  ${i.centerText}">${i.city}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${i.centerText}">\n                    ${n.cityname}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap  ${i.centerText}">${i.airline}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${i.centerText}">\n                    ${n.airline}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap  ${i.centerText}">${i.routecode}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${i.centerText}">\n                    ${n.routecode}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap  ${i.centerText}">${i.date}</span>\n                <div class="text-[#292929] text-sm font-danademibold dir-${i.dir} ${i.centerText}">\n                    <span>${n.dateinfo.mstring}</span>\n                    ${1===t?`<span>(${n.dateinfo.sstring})</span>`:""}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap  ${i.centerText}">${i.time}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${i.centerText}">\n                    ${n.time}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap  ${i.centerText}">${i.travelType}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${i.centerText}">\n                    ${"1"===n.traveltype?i.domestic:i.international}\n                </div>\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap  ${i.centerText}">${i.flightType}</span>\n                <div class="text-[#292929] text-sm font-danademibold ${i.centerText}">\n                    <span class="inline-block">${"1"===n.flighttype?i.arrival:i.departure}</span>\n                    <span class="mx-1">-</span>\n                    <span class="inline-block">${n.city_flight}</span>\n                </div>\n            </div>\n        </div>\n    `,a}async function renderLoungePassengerInfo(e,t){const n={1:{title:"اطلاعات مسافران",row:"ردیف <br/> NO",passengers:"مسافران <br/> Passengers",type:"نوع مسافر <br/> Passenger Type",gender:"جنسیت <br/> Gender",country:"ملیت <br/> Nationality",male:"مرد",female:"زن",dir:"rtl",textAlign:"text-right",centerText:"text-center"},2:{title:"Passenger Information",row:"Row",passengers:"Passengers",type:"Passenger Type",gender:"Gender",country:"Nationality",male:"Male",female:"Female",dir:"ltr",textAlign:"text-left",centerText:"text-center"},3:{title:"معلومات المسافرين",row:"الصف",passengers:"المسافرون",type:"نوع المسافر",gender:"الجنس",country:"الجنسية",male:"ذكر",female:"أنثى",dir:"rtl",textAlign:"text-right",centerText:"text-center"}},a=n[t]||n[1],r=(e?.passengerinfo||[]).map((e=>{const t=e.cip_passenger;return{name:`${t.fullname.firstname?.trim()||""} ${t.fullname.lastname?.trim()||""}`,type:t.type||"–",gender:t.gender||"–",birthdate:t.birthdate?.birthdate1||"–",country:t.countryofresidence?.countryname||"–"}})),i=r.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.centerText}">${e.name}</h2>`)).join(""),s=r.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.centerText}">${e.type}</h2>`)).join(""),l=r.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.centerText}">${e.country}</h2>`)).join(""),d=r.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.centerText}">${"1"==e.gender?a.male:a.female}</h2>`)).join(""),o=r.map(((e,t)=>`<h2 class="text-[#292929] text-sm font-danademibold ${a.centerText}">${t+1}</h2>`)).join("");return`\n        <h2 class="font-bold text-lg my-2 font-danabold ${a.textAlign}" dir="${a.dir}">${a.title}</h2>\n        <div class="bg-[#F4F4F4] rounded-xl p-4 flex justify-between gap-4 max-sm:flex-col max-sm:flex-wrap max-sm:justify-center" dir="${a.dir}">\n            <div class="gap-y-2 flex flex-col max-sm:hidden">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.centerText}">${a.row}</span>\n                ${o}\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.centerText}">${a.passengers}</span>\n                ${i}\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.centerText}">${a.type}</span>\n                ${s}\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.centerText}">${a.gender}</span>\n                ${d}\n            </div>\n            <div class="gap-y-2 flex flex-col">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${a.centerText}">${a.country}</span>\n                ${l}\n            </div>\n        </div>\n    `}async function renderServiceInfoLounge(e,t){const n=e?.serviceinfo||[],a={1:{title:"اطلاعات خدمات",serviceName:"نام خدمات <br/> Service Name",count:"تعداد <br/> Count",description:"توضیحات <br/> Description",dir:"rtl",textAlign:"text-right",centerText:"text-center"},2:{title:"Service Information",serviceName:"Service Name",count:"Count",description:"Description",dir:"ltr",textAlign:"text-left",centerText:"text-center"},3:{title:"معلومات الخدمات",serviceName:"اسم الخدمة",count:"العدد",description:"الوصف",dir:"rtl",textAlign:"text-right",centerText:"text-center"}},r=a[t]||a[1],i=n.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${e.service.servicename||"–"}</h2>`)).join(""),s=n.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${e.service.des_service||"–"}</h2>`)).join(""),l=n.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${e.service.count||"–"}</h2>`)).join("");return`\n        <h2 class="font-bold text-lg my-2 font-danabold ${r.textAlign}" dir="${r.dir}">${r.title}</h2>\n        <div class="bg-[#F4F4F4] rounded-xl p-4 mt-3 flex justify-between max-sm:flex-col max-sm:flex-wrap max-sm:justify-center gap-x-4 gap-y-2" dir="${r.dir}">\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.serviceName}</span>\n                ${i}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.count}</span>\n                ${l}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.description}</span>\n                ${s}\n            </div>\n        </div>\n    `}async function renderTransferInfoLounge(e,t){const n=e?.transferinfo||[],a={1:{title:"اطلاعات ترنسفر",carName:"نام خودرو <br/> Car Name",address:"آدرس <br/> Address",time:"زمان <br/> Time",phone:"شماره تماس <br/> Phone Number",description:"توضیحات <br/> Description",dir:"rtl",textAlign:"text-right",centerText:"text-center"},2:{title:"Transfer Information",carName:"Car Name",address:"Address",time:"Time",phone:"Phone Number",description:"Description",dir:"ltr",textAlign:"text-left",centerText:"text-center"},3:{title:"معلومات النقل",carName:"اسم السيارة",address:"العنوان",time:"الوقت",phone:"رقم الهاتف",description:"الوصف",dir:"rtl",textAlign:"text-right",centerText:"text-center"}},r=a[t]||a[1],i=n.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${e.transfer?.car_name||"–"}</h2>`)).join(""),s=n.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${e.transfer?.address||"–"}</h2>`)).join(""),l=n.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${e.transfer?.time||"–"}</h2>`)).join(""),d=n.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${e.transfer?.phone||"–"}</h2>`)).join(""),o=n.map((e=>`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${e.transfer?.des_transfer||"–"}</h2>`)).join("");return`\n        <h2 class="font-bold text-lg my-2 font-danabold ${r.textAlign}" dir="${r.dir}">${r.title}</h2>\n        <div class="bg-[#F4F4F4] rounded-xl p-4 mt-3 flex justify-between max-sm:flex-col max-sm:flex-wrap max-sm:justify-center gap-x-4 gap-y-2" dir="${r.dir}">\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.carName}</span>\n                ${i}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.address}</span>\n                ${s}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.time}</span>\n                ${l}\n            </div>\n            <div class="flex flex-col gap-2">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.phone}</span>\n                ${d}\n            </div>\n            <div class="flex flex-col gap-2 col-span-full">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.description}</span>\n                ${o}\n            </div>\n        </div>\n    `}async function renderEscortInfoLounge(e,t){const n=e?.escortinfo||[],a={1:{title:"اطلاعات اسکورت",escortName:"نام اسکورت <br/> Escort Name",gender:"جنسیت <br/> Gender",male:"مرد",female:"زن",dir:"rtl",textAlign:"text-right",centerText:"text-center"},2:{title:"Escort Information",escortName:"Escort Name",gender:"Gender",male:"Male",female:"Female",dir:"ltr",textAlign:"text-left",centerText:"text-center"},3:{title:"معلومات المرافق",escortName:"اسم المرافق",gender:"الجنس",male:"ذكر",female:"أنثى",dir:"rtl",textAlign:"text-right",centerText:"text-center"}},r=a[t]||a[1],i=n.map((e=>{const{firsname:t,lastname:n}=e.escort||{};return`<h2 class="text-[#292929] text-sm font-danademibold ${r.textAlign}">${t||""} ${n||""}</h2>`})).join(""),s=n.map((e=>{const t="1"===e.escort?.gender?r.male:r.female;return`<h2 class="text-[#292929] text-sm font-danademibold ${r.centerText}">${t}</h2>`})).join("");return`\n        <h2 class="font-bold text-lg my-2 font-danabold ${r.textAlign}" dir="${r.dir}">${r.title}</h2>\n        <div class="bg-[#F4F4F4] rounded-xl p-4 mt-3 flex justify-between max-sm:flex-col max-sm:flex-wrap max-sm:justify-center gap-x-4 gap-y-2" dir="${r.dir}">\n            <div class="flex flex-col gap-2 w-1/2 justify-center items-center max-sm:w-full">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.escortName}</span>\n                ${i}\n            </div>\n            <div class="flex flex-col gap-2 w-1/2 justify-center items-center max-sm:w-full">\n                <span class="text-[#6D6D6D] text-sm font-danaregular text-nowrap ${r.centerText}">${r.gender}</span>\n                ${s}\n            </div>\n        </div>\n    `}setTimeout((()=>{isContentLoaded||(console.warn("Loading timeout - forcing content display"),isContentLoaded=!0,isMinTimeElapsed=!0,apiDataLoaded=!0,checkLoadingComplete())}),15e3),window.onBasisApiComplete=function(){apiDataLoaded=!0,checkAllResourcesLoaded()},window.addEventListener("load",(function(){setTimeout((()=>{apiDataLoaded||(apiDataLoaded=!0,checkAllResourcesLoaded())}),500)}));